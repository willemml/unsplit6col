(kicad_sch (version 20230121) (generator eeschema)

  (uuid b8334e4c-9258-4233-a56b-ef308db253b6)

  (paper "A4")

  (title_block
    (title "Power/Charging Circuit")
    (date "2024-02-08")
    (rev "0")
  )

  (lib_symbols
    (symbol "Battery_Management:MCP73811T-420I-OT" (in_bom yes) (on_board yes)
      (property "Reference" "U" (at -6.35 6.35 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "MCP73811T-420I-OT" (at 1.27 6.35 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_TO_SOT_SMD:SOT-23-5" (at 1.27 -6.35 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "Datasheet" "http://ww1.microchip.com/downloads/en/DeviceDoc/22036b.pdf" (at -6.35 6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "Lithium-Ion Battery Charger" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Simple, Miniature Single-Cell, Fully Integrated Li-Ion / Li-Polymer Charge Management Controllers, 85mA/450mA, 4.2V, SOT23-5" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SOT?23*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "MCP73811T-420I-OT_0_1"
        (rectangle (start -7.62 5.08) (end 7.62 -5.08)
          (stroke (width 0.254) (type default))
          (fill (type background))
        )
      )
      (symbol "MCP73811T-420I-OT_1_1"
        (pin input line (at -10.16 2.54 0) (length 2.54)
          (name "CE" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 -7.62 90) (length 2.54)
          (name "V_{SS}" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin power_out line (at 10.16 2.54 180) (length 2.54)
          (name "V_{BAT}" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin power_in line (at 0 7.62 270) (length 2.54)
          (name "V_{DD}" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
        (pin input line (at -10.16 -2.54 0) (length 2.54)
          (name "PROG" (effects (font (size 1.27 1.27))))
          (number "5" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:C" (pin_numbers hide) (pin_names (offset 0.254)) (in_bom yes) (on_board yes)
      (property "Reference" "C" (at 0.635 2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "C" (at 0.635 -2.54 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (at 0.9652 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "cap capacitor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Unpolarized capacitor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "C_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "C_0_1"
        (polyline
          (pts
            (xy -2.032 -0.762)
            (xy 2.032 -0.762)
          )
          (stroke (width 0.508) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.032 0.762)
            (xy 2.032 0.762)
          )
          (stroke (width 0.508) (type default))
          (fill (type none))
        )
      )
      (symbol "C_1_1"
        (pin passive line (at 0 3.81 270) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 2.794)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 52.07 76.2) (diameter 0) (color 0 0 0 0)
    (uuid 241037c1-0778-4ffa-8275-d8a69ff29d57)
  )
  (junction (at 86.36 76.2) (diameter 0) (color 0 0 0 0)
    (uuid bda62df2-84f1-4f62-82c3-0deabacb0c39)
  )
  (junction (at 40.64 62.23) (diameter 0) (color 0 0 0 0)
    (uuid cbfe85ca-378f-4d20-ab3a-0046afcfc0b3)
  )
  (junction (at 68.58 92.71) (diameter 0) (color 0 0 0 0)
    (uuid ffad085f-299e-4a5f-ae2c-35b2bed441ca)
  )

  (wire (pts (xy 57.15 85.09) (xy 57.15 81.28))
    (stroke (width 0) (type default))
    (uuid 175b8709-fd3a-4886-8c07-739cb82f71dc)
  )
  (wire (pts (xy 68.58 92.71) (xy 68.58 86.36))
    (stroke (width 0) (type default))
    (uuid 38869001-f23e-41de-a1d2-9685be79004e)
  )
  (wire (pts (xy 52.07 76.2) (xy 58.42 76.2))
    (stroke (width 0) (type default))
    (uuid 3f5dd22f-f5b8-494f-894f-3b6b9f0607ab)
  )
  (wire (pts (xy 40.64 62.23) (xy 40.64 76.2))
    (stroke (width 0) (type default))
    (uuid 43d3891b-abef-4096-9c43-609b96d99fb4)
  )
  (wire (pts (xy 86.36 76.2) (xy 78.74 76.2))
    (stroke (width 0) (type default))
    (uuid 54fa5de8-3a87-447c-acb7-4c25bbc76f12)
  )
  (wire (pts (xy 40.64 62.23) (xy 68.58 62.23))
    (stroke (width 0) (type default))
    (uuid 5bc929a8-13eb-4d1f-b0b6-e96d860a74ef)
  )
  (wire (pts (xy 96.52 76.2) (xy 86.36 76.2))
    (stroke (width 0) (type default))
    (uuid 7513a398-caab-43a7-b7e3-1850ede84a78)
  )
  (wire (pts (xy 40.64 76.2) (xy 43.18 76.2))
    (stroke (width 0) (type default))
    (uuid 752ec5eb-d0df-4da8-8390-cd0a8b6b578f)
  )
  (wire (pts (xy 46.99 83.82) (xy 52.07 83.82))
    (stroke (width 0) (type default))
    (uuid 8f8c9aab-c8c3-433c-805f-455d30972005)
  )
  (wire (pts (xy 68.58 96.52) (xy 68.58 92.71))
    (stroke (width 0) (type default))
    (uuid 9147c8f8-b492-4e28-a58c-a0bb2e1a9bff)
  )
  (wire (pts (xy 68.58 62.23) (xy 68.58 71.12))
    (stroke (width 0) (type default))
    (uuid 939eb58c-f019-4007-bed2-6d5782475cdd)
  )
  (wire (pts (xy 57.15 92.71) (xy 68.58 92.71))
    (stroke (width 0) (type default))
    (uuid b64c4898-30a5-4c03-9e63-00e89d127598)
  )
  (wire (pts (xy 57.15 81.28) (xy 58.42 81.28))
    (stroke (width 0) (type default))
    (uuid b7db107b-b114-45f8-8d2d-ad93a4957f6b)
  )
  (wire (pts (xy 86.36 83.82) (xy 86.36 92.71))
    (stroke (width 0) (type default))
    (uuid c0723fb7-fdf4-46c0-a495-bd85813354db)
  )
  (wire (pts (xy 39.37 62.23) (xy 40.64 62.23))
    (stroke (width 0) (type default))
    (uuid c399bdc4-ca6f-4f36-b39c-f7a31730e843)
  )
  (wire (pts (xy 86.36 92.71) (xy 68.58 92.71))
    (stroke (width 0) (type default))
    (uuid cb8df130-9430-415d-bd89-953c76b0d63d)
  )
  (wire (pts (xy 52.07 83.82) (xy 52.07 76.2))
    (stroke (width 0) (type default))
    (uuid f3234786-bfe2-42db-a4a2-4c6b0f148a40)
  )
  (wire (pts (xy 50.8 76.2) (xy 52.07 76.2))
    (stroke (width 0) (type default))
    (uuid ffc66a29-4321-4933-a034-1031487d7c49)
  )

  (global_label "VBAT" (shape input) (at 38.1 43.18 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 2c158cf6-b2ef-4191-bf29-2cf99f8e3b96)
    (property "Intersheetrefs" "${INTERSHEET_REFS}" (at 45.5 43.18 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )
  (global_label "VBUS" (shape input) (at 30.48 43.18 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 8ba33e81-053f-4cc6-8bef-1d2573a5473d)
    (property "Intersheetrefs" "${INTERSHEET_REFS}" (at 22.5962 43.18 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )
  (global_label "BAT_STATE" (shape input) (at 30.48 46.99 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid d1d70ca4-7999-40b9-a0d6-5e9875ac5ea3)
    (property "Intersheetrefs" "${INTERSHEET_REFS}" (at 17.8187 46.99 0)
      (effects (font (size 1.27 1.27)) (justify right) hide)
    )
  )

  (symbol (lib_id "Battery_Management:MCP73811T-420I-OT") (at 68.58 78.74 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 0c9aa543-0526-4569-9991-db04053b56e1)
    (property "Reference" "U3" (at 87.63 72.5521 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "MCP73811T-420I-OT" (at 87.63 75.0921 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_TO_SOT_SMD:SOT-23-5" (at 69.85 85.09 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (property "Datasheet" "http://ww1.microchip.com/downloads/en/DeviceDoc/22036b.pdf" (at 62.23 72.39 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 4e7fcb94-f708-46af-bf7f-c1afc0bb09e5))
    (pin "4" (uuid a16a65f3-c435-4e13-b24f-bfd4af4cb73d))
    (pin "2" (uuid 38071918-b790-402a-ac70-589a4b28804a))
    (pin "5" (uuid 736d72ee-6199-40c7-a4d7-106f60ff2e8a))
    (pin "3" (uuid 45ea1b05-8ed0-4907-b8f5-b265949ca30a))
    (instances
      (project "keyboard"
        (path "/a3795772-e8b2-4a24-8aa0-5a93e6e5ac56/c2fac475-eefc-4fa7-89e3-f138d1e57553"
          (reference "U3") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 68.58 96.52 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 164d37f3-1a22-4702-a025-3005b35167a3)
    (property "Reference" "#PWR017" (at 68.58 102.87 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 68.58 101.6 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 68.58 96.52 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 68.58 96.52 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 3046254a-b09f-405c-998e-82e3e5886589))
    (instances
      (project "keyboard"
        (path "/a3795772-e8b2-4a24-8aa0-5a93e6e5ac56/c2fac475-eefc-4fa7-89e3-f138d1e57553"
          (reference "#PWR017") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R") (at 57.15 88.9 180) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 29f5db9f-ddaa-4e83-804c-d018f01c8f25)
    (property "Reference" "R3" (at 59.69 87.63 0)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Value" "5k" (at 59.69 90.17 0)
      (effects (font (size 1.27 1.27)) (justify right))
    )
    (property "Footprint" "Resistor_SMD:R_0603_1608Metric" (at 58.928 88.9 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 57.15 88.9 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid ced89456-7494-49d6-a55b-990a4353a3a0))
    (pin "2" (uuid 5d73de80-72cc-460f-9a5c-3a22db8ee385))
    (instances
      (project "keyboard"
        (path "/a3795772-e8b2-4a24-8aa0-5a93e6e5ac56/c2fac475-eefc-4fa7-89e3-f138d1e57553"
          (reference "R3") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R") (at 46.99 76.2 90) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 6e4a740c-ee89-4b07-ac48-f52f74e7cf0c)
    (property "Reference" "R4" (at 46.99 69.85 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "10k" (at 46.99 72.39 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Resistor_SMD:R_0603_1608Metric" (at 46.99 77.978 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 46.99 76.2 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid aa605a55-934d-4b9e-9a5a-8a282859251b))
    (pin "2" (uuid fea6e472-4719-404d-a0f6-a3615473d4b8))
    (instances
      (project "keyboard"
        (path "/a3795772-e8b2-4a24-8aa0-5a93e6e5ac56/c2fac475-eefc-4fa7-89e3-f138d1e57553"
          (reference "R4") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:C") (at 86.36 80.01 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid e0fcf350-09d8-4246-bfcb-b89b9a104c5b)
    (property "Reference" "C18" (at 90.17 78.74 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "4.7uF" (at 90.17 81.28 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0603_1608Metric" (at 87.3252 83.82 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 86.36 80.01 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "2" (uuid b870abb0-44ad-4150-82a0-a93aa1f03993))
    (pin "1" (uuid 60ff33da-d4fa-44de-ad6a-8ed791169571))
    (instances
      (project "keyboard"
        (path "/a3795772-e8b2-4a24-8aa0-5a93e6e5ac56/c2fac475-eefc-4fa7-89e3-f138d1e57553"
          (reference "C18") (unit 1)
        )
      )
    )
  )
)
